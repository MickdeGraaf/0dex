two people, A and B generate secrets x,y

exchange(hash(x), y)
exchange(hash(y), x)

lock_commit(hash(x, hash(y)))
lock_commit(hash(y, hash(x)))

reveal(
    x, hash(y)
)
reveal(
    y, hash(x)
)

but what if we want to trade on only on chain? then we need to create a common wrapped token

tokens on two chains: main and alt
each chain has a bank
and the bank creates wrappertokens

and you perform atomic swaps between the two banks

the security of smart contracts in both chains is used 
all you need to do
is verify that the banks are the same on both chains

and then you can wrap your tokens, engage in atomic swap with the other chain's bank

and now unwrap your other tokens on the mainchain







last thing
atomic swap with the wrapping



atomic swap that you will mint tokens on M and permalock on A


